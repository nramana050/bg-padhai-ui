<div class="stepperSection">
    <div class="wrapper">
        <nav class="stepper desktopStepperSection">
            <ul class="stepper__list">
                <li *ngFor="let step of stepperConfig.steps" class="stepper__list__item stepper__list__item--{{step.status}}">
                    <!-- <span class="stepperIcons" [ngSwitch]="step.status"> -->
                        <svg *ngIf="step.status == 'Generated'" class="stepper__list__icon" viewbox="0 0 24 24">
                            <path class="st0" d="M12 20c4.4 0 8-3.6 8-8s-3.6-8-8-8-8 3.6-8 8 3.6 8 8 8zm0 1.5c-5.2 0-9.5-4.3-9.5-9.5S6.8 2.5 12 2.5s9.5 4.3 9.5 9.5-4.3 9.5-9.5 9.5z"></path>
                            <path class="st0" d="M11.1 12.9l-1.2-1.1c-.4-.3-.9-.3-1.3 0-.3.3-.4.8-.1 1.1l.1.1 1.8 1.6c.1.1.4.3.7.3.2 0 .5-.1.7-.3l3.6-4.1c.3-.3.4-.8.1-1.1l-.1-.1c-.4-.3-1-.3-1.3 0l-3 3.6z"></path>
                        </svg>
                        <svg *ngIf="step.status == 'current'" class="stepper__list__icon stepper__list__icon--current" width="24" height="24" viewbox="0 0 24 24">
                            <path d="M12.2 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0 1.377a9.377 9.377 0 1 1 0-18.754 9.377 9.377 0 0 1 0 18.754zm-4-8a1.377 1.377 0 1 1 0-2.754 1.377 1.377 0 0 1 0 2.754zm4 0a1.377 1.377 0 1 1 0-2.754 1.377 1.377 0 0 1 0 2.754zm4 0a1.377 1.377 0 1 1 0-2.754 1.377 1.377 0 0 1 0 2.754z" fill="#006DFF" fill-rule="evenodd"></path>
                        </svg>
                        <div *ngIf="step.status == 'Failed'" class="failedStatus stepper__list__icon"> ! </div>
                        <div *ngIf="step.status == 'InProgress'" class="loader stepper__list__icon"></div>
                        <svg *ngIf="step.status != 'Generated' && step.status != 'InProgress' && step.status != 'Failed' && step.status != 'current'" class="stepper__list__icon" width="24" height="24" viewbox="0 0 24 24">
                            <path d="M12 16.1c1.8 0 3.3-1.4 3.3-3.2 0-1.8-1.5-3.2-3.3-3.2s-3.3 1.4-3.3 3.2c0 1.7 1.5 3.2 3.3 3.2zm0 1.7c-2.8 0-5-2.2-5-4.9S9.2 8 12 8s5 2.2 5 4.9-2.2 4.9-5 4.9z"></path>
                        </svg> 
                    <!-- </span> -->
                    <span class="stepper__list__title">{{step.title}}</span>
                </li>
            </ul>
        </nav>

        <mat-accordion class="mobileStepperSection">
            <mat-expansion-panel class="matExpantionPanel">
              <mat-expansion-panel-header>
                <mat-panel-title class="currentStage stepper__list__item stepper__list__item--{{activeStage.status}}">
                    <svg *ngIf="activeStage.status == 'Generated'" class="stepper__list__icon customHeight" viewbox="0 0 24 24">
                        <path class="st0" d="M12 20c4.4 0 8-3.6 8-8s-3.6-8-8-8-8 3.6-8 8 3.6 8 8 8zm0 1.5c-5.2 0-9.5-4.3-9.5-9.5S6.8 2.5 12 2.5s9.5 4.3 9.5 9.5-4.3 9.5-9.5 9.5z"></path>
                        <path class="st0" d="M11.1 12.9l-1.2-1.1c-.4-.3-.9-.3-1.3 0-.3.3-.4.8-.1 1.1l.1.1 1.8 1.6c.1.1.4.3.7.3.2 0 .5-.1.7-.3l3.6-4.1c.3-.3.4-.8.1-1.1l-.1-.1c-.4-.3-1-.3-1.3 0l-3 3.6z"></path>
                    </svg>
                    <svg *ngIf="activeStage.status == 'current'" class="stepper__list__icon stepper__list__icon--current customHeight" width="24" height="24" viewbox="0 0 24 24">
                        <path d="M12.2 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0 1.377a9.377 9.377 0 1 1 0-18.754 9.377 9.377 0 0 1 0 18.754zm-4-8a1.377 1.377 0 1 1 0-2.754 1.377 1.377 0 0 1 0 2.754zm4 0a1.377 1.377 0 1 1 0-2.754 1.377 1.377 0 0 1 0 2.754zm4 0a1.377 1.377 0 1 1 0-2.754 1.377 1.377 0 0 1 0 2.754z" fill="#006DFF" fill-rule="evenodd"></path>
                    </svg>
                    <div *ngIf="activeStage.status == 'Failed'" class="failedStatus stepper__list__icon"> ! </div>
                    <div *ngIf="activeStage.status == 'InProgress'" style="margin-left:2px;" class="loader stepper__list__icon"></div>
                    <svg *ngIf="activeStage.status != 'Generated' && activeStage.status != 'InProgress' && activeStage.status != 'Failed' && activeStage.status != 'current'" class="stepper__list__icon customHeight" width="24" height="24" viewbox="0 0 24 24">
                        <path d="M12 16.1c1.8 0 3.3-1.4 3.3-3.2 0-1.8-1.5-3.2-3.3-3.2s-3.3 1.4-3.3 3.2c0 1.7 1.5 3.2 3.3 3.2zm0 1.7c-2.8 0-5-2.2-5-4.9S9.2 8 12 8s5 2.2 5 4.9-2.2 4.9-5 4.9z"></path>
                    </svg> 
                <span class="stepper__list__title">{{activeStage.title}}</span>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <nav class="stepper">
                <ul class="stepper__list">
                    <li *ngFor="let step of stepperConfig.steps" class="stepper__list__item stepper__list__item--{{step.status}}">
                            <svg *ngIf="step.status == 'Generated'" class="stepper__list__icon" viewbox="0 0 24 24">
                                <path class="st0" d="M12 20c4.4 0 8-3.6 8-8s-3.6-8-8-8-8 3.6-8 8 3.6 8 8 8zm0 1.5c-5.2 0-9.5-4.3-9.5-9.5S6.8 2.5 12 2.5s9.5 4.3 9.5 9.5-4.3 9.5-9.5 9.5z"></path>
                                <path class="st0" d="M11.1 12.9l-1.2-1.1c-.4-.3-.9-.3-1.3 0-.3.3-.4.8-.1 1.1l.1.1 1.8 1.6c.1.1.4.3.7.3.2 0 .5-.1.7-.3l3.6-4.1c.3-.3.4-.8.1-1.1l-.1-.1c-.4-.3-1-.3-1.3 0l-3 3.6z"></path>
                            </svg>
                            <svg *ngIf="step.status == 'current'" class="stepper__list__icon stepper__list__icon--current" width="24" height="24" viewbox="0 0 24 24">
                                <path d="M12.2 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0 1.377a9.377 9.377 0 1 1 0-18.754 9.377 9.377 0 0 1 0 18.754zm-4-8a1.377 1.377 0 1 1 0-2.754 1.377 1.377 0 0 1 0 2.754zm4 0a1.377 1.377 0 1 1 0-2.754 1.377 1.377 0 0 1 0 2.754zm4 0a1.377 1.377 0 1 1 0-2.754 1.377 1.377 0 0 1 0 2.754z" fill="#006DFF" fill-rule="evenodd"></path>
                            </svg>
                            <div *ngIf="step.status == 'Failed'" class="failedStatus stepper__list__icon"> ! </div>
                            <div *ngIf="step.status == 'InProgress'" class="loader stepper__list__icon"></div>
                            <svg *ngIf="step.status != 'Generated' && step.status != 'InProgress' && step.status != 'Failed' && step.status != 'current'" class="stepper__list__icon" width="24" height="24" viewbox="0 0 24 24">
                                <path d="M12 16.1c1.8 0 3.3-1.4 3.3-3.2 0-1.8-1.5-3.2-3.3-3.2s-3.3 1.4-3.3 3.2c0 1.7 1.5 3.2 3.3 3.2zm0 1.7c-2.8 0-5-2.2-5-4.9S9.2 8 12 8s5 2.2 5 4.9-2.2 4.9-5 4.9z"></path>
                            </svg> 
                        <span class="stepper__list__title">{{step.title}}</span>
                    </li>
                </ul>
            </nav>
            </mat-expansion-panel>
        </mat-accordion>
    </div>
</div>